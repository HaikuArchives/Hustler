// ***************************************************************************
// Implementation System Includes
// ***************************************************************************

#include <be/be_apps/Deskbar/Deskbar.h>

// ***************************************************************************
// Implementation Project Includes
// ***************************************************************************

#include "HustlerApp.h"
#include "HustlerMain.h"
#include "HustlerView.h"

// ***************************************************************************
// Implementation Constant Definitions
// ***************************************************************************

// ***************************************************************************
// Implementation Type Definitions
// ***************************************************************************

// ***************************************************************************
// Implementation Variable Definitions
// ***************************************************************************

// ***************************************************************************
// Implementation Function Declarations
// ***************************************************************************

// ***************************************************************************
// Global Variable Definitions
// ***************************************************************************

// ***************************************************************************
// PUBLIC Member Function Definitions
// ***************************************************************************

// ===========================================================================
// Constructor
// ===========================================================================

HustlerApp::HustlerApp() 
	: BApplication(APP_SIGNATURE)
{
	BDeskbar deskbar;
	
	if (!deskbar.HasItem("Hustler"))
	{
		deskbar.AddItem(new HustlerView());
		
		BBG_WRITE(("[HustlerApp::HustlerApp] Replicant sent to the"
				   " Deskbar."));
	}
	else
	{
		BBG_WRITE(("[HustlerApp::HustlerApp] Replicant already running."
				   " Will not send another one to the Deskbar."));
	}
	
	// Commit suicide.
	PostMessage(B_QUIT_REQUESTED);
}

// ***************************************************************************
// PROTECTED Member Function Definitions
// ***************************************************************************

// ***************************************************************************
// PRIVATE Member Function Definitions
// ***************************************************************************

// ***************************************************************************
// Helper Function Definitions
// ***************************************************************************

// ***************************************************************************
// Global Function Definitions
// ***************************************************************************

// ***************************************************************************
// Implementation Function Definitions
// ***************************************************************************
